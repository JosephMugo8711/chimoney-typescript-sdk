import t from"dotenv";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},e.apply(null,arguments)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}t.config();var n,i=/*#__PURE__*/function(){function t(t){this.apiKey=void 0,this.baseUrl=void 0;var e=t.apikey,r=t.baseUrl;if(!e&&!process.env.API_KEY)throw new Error("API key must be provided either in config or environment variables.");this.apiKey=e||process.env.API_KEY,this.baseUrl=r||process.env.BASE_URL||""}var r=t.prototype;return r.getBaseUrl=function(){if(!this.baseUrl)throw new Error("Base URL is not defined. Please provide a valid base URL.");return this.baseUrl},r.getApiKey=function(){return this.apiKey},r.apiRequest=function(t,r){void 0===r&&(r={});try{var o=this;return Promise.resolve(function(n,i){try{var s=Promise.resolve(fetch(o.getBaseUrl()+"/"+t,e({},r,{headers:e({},r.headers,{Authorization:"Bearer "+o.getApiKey(),"Content-Type":"application/json"})}))).then(function(t){function e(e){return Promise.resolve(t.json())}var r=function(){if(!t.ok)return Promise.resolve(t.text()).then(function(e){throw new Error("API request failed: "+t.statusText+" - "+e)})}();return r&&r.then?r.then(e):e()})}catch(t){return i(t)}return s&&s.then?s.then(void 0,i):s}(0,function(t){throw console.error("API Request Error:",t),t}))}catch(t){return Promise.reject(t)}},r.post=function(t,e){try{return Promise.resolve(this.apiRequest(t,{method:"POST",body:JSON.stringify(e)}))}catch(t){return Promise.reject(t)}},r.get=function(t){try{return Promise.resolve(this.apiRequest(t,{method:"GET"}))}catch(t){return Promise.reject(t)}},t}(),s="payments",a=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.createChimoneyPayout=function(t){try{return Promise.resolve(this.paymentPost(s+"/chimoney-payout",t))}catch(t){return Promise.reject(t)}},o.paymentPost=function(t,e){return this.apiRequest(t,{method:"POST",body:JSON.stringify(e)})},o.createMobileMoneyPayout=function(t){try{return Promise.resolve(this.paymentPost(s+"/mobile-money-payout",t))}catch(t){return Promise.reject(t)}},o.createAirtimePayout=function(t){try{return Promise.resolve(this.paymentPost(s+"/airtime-payout",t))}catch(t){return Promise.reject(t)}},o.createBankPayout=function(t){try{return Promise.resolve(this.paymentPost(s+"/bank-payout",t))}catch(t){return Promise.reject(t)}},o.createGiftCardPayout=function(t){try{return Promise.resolve(this.paymentPost(s+"/giftcard-payout",t))}catch(t){return Promise.reject(t)}},o.createXRPLPayout=function(t){try{return Promise.resolve(this.paymentPost(s+"/xrpl-payout",t))}catch(t){return Promise.reject(t)}},e}(i),u=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(i);n=u,[a].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){n.prototype[e]=t.prototype[e]})});export{u as default};
